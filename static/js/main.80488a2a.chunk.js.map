{"version":3,"sources":["contexts/ResultContextProvider.tsx","components/CalResult.tsx","components/SideTab.tsx","components/CalForm.tsx","components/CalFunctionList.tsx","App.tsx","index.tsx"],"names":["ResultStateContext","createContext","undefined","ResultDispatchContext","resultReducer","state","action","type","console","log","result","isHide","Error","initialResultState","value","ResultContextProvider","children","useReducer","dispatch","Provider","useResultDispatch","useContext","CalResult","useResultState","className","onClick","e","preventDefault","SideTab","href","target","viewBox","focusable","data-icon","width","height","fill","aria-hidden","d","initialStateValues","value1","value2","CalForm","calFuntionSet","calFuntion","useState","values","setValues","onChange","name","calInfo","placeholder1","placeholder2","text1","text2","onSubmit","calfuntion","Number","placeholder","step","required","mathF","create","all","number","mathjsCalc","expr","evaluate","initialCalFunctions","gap","Math","abs","CalFunctionList","map","calFunction","index","key","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.80488a2a.chunk.js","sourcesContent":["import React, { createContext, Dispatch, useContext, useReducer } from 'react';\r\n\r\ntype ResultDispatch = Dispatch<Action>;\r\n\r\nconst ResultStateContext = createContext<ResultState | undefined>(undefined);\r\n\r\nconst ResultDispatchContext = createContext<ResultDispatch | undefined>(\r\n  undefined\r\n);\r\n\r\nfunction resultReducer(state: ResultState, action: Action): ResultState {\r\n  switch (action.type) {\r\n    case 'CALCULATE':\r\n      console.log(`calc`);\r\n\r\n      return action.result;\r\n    case 'INIT':\r\n      return { ...state, isHide: true };\r\n    default:\r\n      throw new Error('Unhandled action');\r\n  }\r\n}\r\n\r\nconst initialResultState: ResultState = {\r\n  value: null,\r\n  isHide: true,\r\n};\r\n\r\nexport function ResultContextProvider({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  const [result, dispatch] = useReducer(resultReducer, initialResultState);\r\n\r\n  return (\r\n    <>\r\n      <ResultDispatchContext.Provider value={dispatch}>\r\n        <ResultStateContext.Provider value={result}>\r\n          {children}\r\n        </ResultStateContext.Provider>\r\n      </ResultDispatchContext.Provider>\r\n    </>\r\n  );\r\n}\r\n\r\nexport function useResultState() {\r\n  const state = useContext(ResultStateContext);\r\n  if (!state) throw new Error('ResultProvider not found');\r\n  return state;\r\n}\r\n\r\nexport function useResultDispatch() {\r\n  const dispatch = useContext(ResultDispatchContext);\r\n  if (!dispatch) throw new Error('ResultProvider not found');\r\n  return dispatch;\r\n}\r\n","import React from 'react';\r\nimport {\r\n  useResultDispatch,\r\n  useResultState,\r\n} from '../contexts/ResultContextProvider';\r\n\r\nexport default function CalResult() {\r\n  const result = useResultState();\r\n\r\n  const dispatch = useResultDispatch();\r\n\r\n  const onclick = (e: React.MouseEvent<HTMLInputElement, MouseEvent>) => {\r\n    e.preventDefault();\r\n    dispatch({\r\n      type: 'INIT',\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className={`mb-4 result-box ${result.isHide ? 'hide' : ''}`}>\r\n      <div>\r\n        <span>\r\n          <strong>{result.value}</strong>\r\n        </span>\r\n      </div>\r\n      <div>\r\n        <input onClick={onclick} type=\"button\" value=\"초기화\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function SideTab() {\r\n  return (\r\n    <div className=\"sidetab\">\r\n      <div className=\"sideItem\">\r\n        <a\r\n          href=\"https://github.com/chinsun9/react-percentage-calculator\"\r\n          target=\"chinsun9 github\"\r\n        >\r\n          <svg\r\n            viewBox=\"64 64 896 896\"\r\n            focusable=\"false\"\r\n            className=\"\"\r\n            data-icon=\"github\"\r\n            width=\"1em\"\r\n            height=\"1em\"\r\n            fill=\"currentColor\"\r\n            aria-hidden=\"true\"\r\n          >\r\n            <path d=\"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z\"></path>\r\n          </svg>\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useResultDispatch } from '../contexts/ResultContextProvider';\r\n\r\nconst initialStateValues: InputValue = {\r\n  value1: '',\r\n  value2: '',\r\n};\r\n\r\nexport default function CalForm({ calFuntion: calFuntionSet }: CalFormProps) {\r\n  const [values, setValues] = useState(initialStateValues);\r\n  const dispatch = useResultDispatch();\r\n\r\n  const onsubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    const { value1, value2 } = values;\r\n    const result = calFuntionSet.calfuntion(Number(value1), Number(value2));\r\n\r\n    dispatch({\r\n      type: 'CALCULATE',\r\n      result: { isHide: false, value: result },\r\n    });\r\n  };\r\n\r\n  const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const { placeholder1, placeholder2, text1, text2 } = calFuntionSet.calInfo;\r\n\r\n  return (\r\n    <li>\r\n      <form onSubmit={onsubmit}>\r\n        <input\r\n          placeholder={placeholder1}\r\n          type=\"number\"\r\n          step=\"0.0000000000001\"\r\n          name=\"value1\"\r\n          onChange={onChange}\r\n          required\r\n        />\r\n        <span>{text1}</span>\r\n        <input\r\n          placeholder={placeholder2}\r\n          type=\"number\"\r\n          step=\"0.0000000000001\"\r\n          name=\"value2\"\r\n          onChange={onChange}\r\n          required\r\n        />\r\n        <span>{text2}</span>\r\n        <button type=\"submit\" className=\"btn btn-outline-primary\">\r\n          계산\r\n        </button>\r\n      </form>\r\n    </li>\r\n  );\r\n}\r\n","import CalForm from './CalForm';\r\nimport React from 'react';\r\n// import * as math from 'mathjs';\r\nimport { create, all } from 'mathjs';\r\n\r\nconst mathF = create(all, { number: 'Fraction' }) as math.MathJsStatic;\r\n\r\nconst mathjsCalc = (expr: string) => {\r\n  return mathF.number(mathF.evaluate(expr));\r\n};\r\n\r\nconst initialCalFunctions: Array<CalFunctionSet> = [\r\n  {\r\n    calInfo: {\r\n      placeholder1: '전체값 예)10000',\r\n      placeholder2: '비율값 예)20',\r\n      text1: '의',\r\n      text2: '%는 얼마?',\r\n    },\r\n    calfuntion: (value1, value2) => {\r\n      let suffix = '';\r\n      const result = mathjsCalc(`${value1} * ${value2} * 0.01`);\r\n      return result + suffix;\r\n    },\r\n  },\r\n  {\r\n    calInfo: {\r\n      placeholder1: '전체값 예)10000',\r\n      placeholder2: '일부값 예)500',\r\n      text1: '의',\r\n      text2: '은 몇%',\r\n    },\r\n    calfuntion: (value1, value2) => {\r\n      let suffix = '%';\r\n      const result = mathjsCalc(`(${value2} / ${value1}) * 100`);\r\n      return result + suffix;\r\n    },\r\n  },\r\n  {\r\n    calInfo: {\r\n      placeholder1: '전체값 예)10000',\r\n      placeholder2: '증감값 예)25000',\r\n      text1: '이/가',\r\n      text2: '으로 변하면?',\r\n    },\r\n    calfuntion: (value1, value2) => {\r\n      const result = mathjsCalc(`((${value2} - ${value1}) / ${value1}) * 100`);\r\n      const gap = Math.abs(value2 - value1);\r\n      let suffix = `% (두 값의 차이 ${gap})`;\r\n\r\n      return result + suffix;\r\n    },\r\n  },\r\n  {\r\n    calInfo: {\r\n      placeholder1: '전체값 예)10000',\r\n      placeholder2: '비율값 예)25',\r\n      text1: '이/가',\r\n      text2: '% 증가하면?',\r\n    },\r\n    calfuntion: (value1, value2) => {\r\n      let suffix = '';\r\n      const result = mathjsCalc(`${value1} + ${value1} * ${value2} * 0.01`);\r\n      return result + suffix;\r\n    },\r\n  },\r\n];\r\n\r\nexport default function CalFunctionList() {\r\n  return (\r\n    <div className=\"mt-3 cal-box\">\r\n      <ul>\r\n        {initialCalFunctions.map((calFunction, index) => {\r\n          return <CalForm key={index} calFuntion={calFunction} />;\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport CalResult from './components/CalResult';\r\nimport SideTab from './components/SideTab';\r\nimport CalFunctionList from './components/CalFunctionList';\r\nimport { ResultContextProvider } from './contexts/ResultContextProvider';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  return (\r\n    <ResultContextProvider>\r\n      <div className=\"card container w-80 border border-primary rounded\">\r\n        <div className=\"card-header\">\r\n          <h1>퍼센트 계산기</h1>\r\n        </div>\r\n\r\n        <CalFunctionList></CalFunctionList>\r\n\r\n        <CalResult></CalResult>\r\n      </div>\r\n\r\n      <SideTab></SideTab>\r\n    </ResultContextProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}